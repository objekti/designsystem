"use strict";(self.webpackChunkroot=self.webpackChunkroot||[]).push([[204],{"./packages/react/src/components/Table/ResponsiveTable.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Template:()=>Template,default:()=>ResponsiveTable_stories,eksempel:()=>eksempel});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),tokens_esm=__webpack_require__("./node_modules/@altinn/figma-design-tokens/dist/tokens.esm.js");var RadioButton=__webpack_require__("./packages/react/src/components/RadioButton/RadioButton.tsx"),Table=__webpack_require__("./packages/react/src/components/Table/Table.tsx"),TableHeader=__webpack_require__("./packages/react/src/components/Table/TableHeader.tsx"),TableRow=__webpack_require__("./packages/react/src/components/Table/TableRow.tsx"),TableCell=__webpack_require__("./packages/react/src/components/Table/TableCell.tsx"),TableBody=__webpack_require__("./packages/react/src/components/Table/TableBody.tsx"),TableFooter=__webpack_require__("./packages/react/src/components/Table/TableFooter.tsx"),TableCell_module=__webpack_require__("./packages/react/src/components/Table/TableCell.module.css"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ResponsiveTable({config}){return function useMediaQuery(query){const getMatches=query=>window?.matchMedia(query).matches??!1,[matches,setMatches]=(0,react.useState)(getMatches(query)),eventListener=()=>{setMatches(getMatches(query))};return(0,react.useEffect)((()=>{const matchMedia=window.matchMedia(query);return eventListener(),matchMedia.addEventListener("change",eventListener),()=>matchMedia.removeEventListener("change",eventListener)}),[query]),matches}(`(max-width: ${tokens_esm.cLy})`)?(0,jsx_runtime.jsx)(MobileTable,{config}):(0,jsx_runtime.jsx)(LaptopTable,{config})}function MobileTable({config}){const{rows,headers,showColumnsMobile,renderCell,rowSelection,footer}=config,selectedRowJson=JSON.stringify(rowSelection?.selectedValue||null),columns=Object.keys(headers),numColumns=rowSelection?2:1;return(0,jsx_runtime.jsxs)(Table.i,{selectRows:!!rowSelection,onChange:({selectedValue})=>rowSelection?.onSelectionChange(selectedValue),selectedValue:rowSelection?.selectedValue,children:[(0,jsx_runtime.jsx)(TableBody.R,{children:rows.map((row=>{const value=JSON.stringify(row);return(0,jsx_runtime.jsxs)(TableRow.S,{rowData:row,children:[rowSelection&&(0,jsx_runtime.jsx)(TableCell.p,{radiobutton:!0,children:(0,jsx_runtime.jsx)(RadioButton.E,{name:value,onChange:()=>rowSelection.onSelectionChange(row),value,checked:value===selectedRowJson,label:value,hideLabel:!0})}),(0,jsx_runtime.jsx)(TableCell.p,{style:{padding:"0px"},children:columns.map((column=>{if(showColumnsMobile&&!showColumnsMobile.includes(column))return;const renderFunc=renderCell&&renderCell[column],content=renderFunc?renderFunc(row[column]):row[column];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:TableCell_module.Z.header,children:headers[column]}),(0,jsx_runtime.jsx)("div",{className:TableCell_module.Z.property,children:content})]})}))},`${value}-data`)]},value)}))}),footer&&(0,jsx_runtime.jsx)(TableFooter.y,{children:(0,jsx_runtime.jsx)(TableRow.S,{children:(0,jsx_runtime.jsx)(TableCell.p,{colSpan:numColumns,children:footer})})})]})}function LaptopTable({config}){const{rows,headers,renderCell,columnSort,rowSelection,footer}=config,selectedRowJson=JSON.stringify(rowSelection?.selectedValue||null),columns=Object.keys(headers),numColumns=rowSelection?Object.keys(headers).length+1:Object.keys(headers).length;return(0,jsx_runtime.jsxs)(Table.i,{selectRows:!!rowSelection,onChange:({selectedValue})=>rowSelection?.onSelectionChange(selectedValue),selectedValue:rowSelection?.selectedValue,children:[(0,jsx_runtime.jsx)(TableHeader.x,{children:(0,jsx_runtime.jsxs)(TableRow.S,{children:[rowSelection&&(0,jsx_runtime.jsx)(TableCell.p,{radiobutton:!0}),columns.map((column=>(0,jsx_runtime.jsx)(TableCell.p,{onChange:({next,previous})=>{columnSort&&columnSort.onSortChange({column,next,previous})},sortDirection:columnSort?columnSort.currentlySortedColumn===column?columnSort.currentDirection:columnSort.sortable.includes(column)?"notActive":"notSortable":"notSortable",children:headers[column]},column)))]})}),(0,jsx_runtime.jsx)(TableBody.R,{children:rows.map((row=>{const value=JSON.stringify(row);return(0,jsx_runtime.jsxs)(TableRow.S,{rowData:row,children:[rowSelection&&(0,jsx_runtime.jsx)(TableCell.p,{radiobutton:!0,children:(0,jsx_runtime.jsx)(RadioButton.E,{name:value,onChange:()=>rowSelection.onSelectionChange(row),value,checked:value===selectedRowJson,label:value,hideLabel:!0})}),columns.map((column=>{const renderFunc=renderCell&&renderCell[column];return(0,jsx_runtime.jsx)(TableCell.p,{children:renderFunc?renderFunc(row[column]):row[column]},`${value}-${column}`)}))]},value)}))}),footer&&(0,jsx_runtime.jsx)(TableFooter.y,{children:(0,jsx_runtime.jsx)(TableRow.S,{children:(0,jsx_runtime.jsx)(TableCell.p,{colSpan:numColumns,children:footer})})})]})}MobileTable.displayName="MobileTable",LaptopTable.displayName="LaptopTable";try{ResponsiveTable.displayName="ResponsiveTable",ResponsiveTable.__docgenInfo={description:"",displayName:"ResponsiveTable",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ResponsiveTableConfig<T>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react/src/components/Table/ResponsiveTable.tsx#ResponsiveTable"]={docgenInfo:ResponsiveTable.__docgenInfo,name:"ResponsiveTable",path:"packages/react/src/components/Table/ResponsiveTable.tsx#ResponsiveTable"})}catch(__react_docgen_typescript_loader_error){}var docs_components=__webpack_require__("./docs-components/index.ts"),ExampleData=__webpack_require__("./packages/react/src/components/Table/ExampleData.ts"),Table_stories_module=__webpack_require__("./packages/react/src/components/Table/Table.stories.module.css");const Template=()=>{const _components=Object.assign({img:"img"},(0,lib.ah)());return(0,jsx_runtime.jsx)(ResponsiveTable,{config:{rows:ExampleData.P,headers:{caseNum:"SÃ¸knadsnr.",product:"Produkt",status:"Status",image:"Bilde"},showColumnsMobile:["product","caseNum","status"],columnSort:{onSortChange:({column,next,previous})=>console.log("Change sort of column "+column+" to "+next+" from "+previous),sortable:["caseNum","product"],currentlySortedColumn:"caseNum",currentDirection:"notActive"},renderCell:{image:imageObj=>(0,jsx_runtime.jsx)(_components.img,{className:Table_stories_module.Z.img,src:imageObj.src,alt:imageObj.alt})},rowSelection:{onSelectionChange:row=>console.log("Select row:",row),selectedValue:{caseNum:20220408,product:"Bil",status:"Registert",image:{src:"https://search.patentstyret.no/onlinedb_files_ds/Pictures/2022/5/11/310547.jpg",alt:"Bil"}}},footer:"Lorem ipsum dolor sit amet."}})};const eksempel=Template.bind({});eksempel.storyName="Eksempel",eksempel.parameters={storySource:{source:'() => <ResponsiveTable config={{\n  rows: exampleRows,\n  headers: {\n    caseNum: "S\\xF8knadsnr.",\n    product: "Produkt",\n    status: "Status",\n    image: "Bilde"\n  },\n  showColumnsMobile: ["product", "caseNum", "status"],\n  columnSort: {\n    onSortChange: ({\n      column,\n      next,\n      previous\n    }) => console.log("Change sort of column " + column + " to " + next + " from " + previous),\n    sortable: ["caseNum", "product"],\n    currentlySortedColumn: "caseNum",\n    currentDirection: "notActive"\n  },\n  renderCell: {\n    image: imageObj => <img className={classes.img} src={imageObj.src} alt={imageObj.alt} />\n  },\n  rowSelection: {\n    onSelectionChange: row => console.log("Select row:", row),\n    selectedValue: {\n      caseNum: 20220408,\n      product: "Bil",\n      status: "Registert",\n      image: {\n        src: "https://search.patentstyret.no/onlinedb_files_ds/Pictures/2022/5/11/310547.jpg",\n        alt: "Bil"\n      }\n    }\n  },\n  footer: "Lorem ipsum dolor sit amet."\n}} />'}};const componentMeta={title:"Kjernekomponenter/Table/ResponsiveTable",parameters:{status:{type:"beta",url:"http://www.url.com/status"}},component:ResponsiveTable,tags:["stories-mdx"],includeStories:["eksempel"]};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,{...props,children:(0,jsx_runtime.jsx)(_createMdxContent,{})}):_createMdxContent();function _createMdxContent(){const _components=Object.assign({h1:"h1",h2:"h2"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.h_,{title:"Kjernekomponenter/Table/ResponsiveTable",component:ResponsiveTable,parameters:{status:{type:"beta",url:"http://www.url.com/status"}}}),"\n","\n",(0,jsx_runtime.jsx)(_components.h1,{id:"responsivetable",children:"ResponsiveTable"}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"eksempel",children:"Eksempel"}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{name:"Eksempel",children:Template.bind({})})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"egenskaper",children:"Egenskaper"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{story:"Eksempel"}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"tokens",children:"Tokens"}),"\n",(0,jsx_runtime.jsx)(docs_components.jq,{componentName:"table",description:!0,jsonKey:"component.table",showPreview:!1})]})}}};const ResponsiveTable_stories=componentMeta}}]);